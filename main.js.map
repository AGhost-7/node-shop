{"version":3,"sources":["index.coffee","masks.coffee","home.coffee","products.coffee"],"names":[],"mappings":"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","file":"main.js","sourceRoot":"/source/","sourcesContent":["\napp = angular.module('node-shop', ['ngRoute'])\n\napp\n.config(['$routeProvider', ($routeProvider) ->\n  $routeProvider\n    .when('/home',\n      templateUrl: '/html/home.tmpl'\n      controller: 'homeCtrl'\n    )\n    .when('/product',\n      templateUrl: '/html/products.tmpl'\n      controller: 'productCtrl'\n    )\n    .otherwise(redirectTo: '/home')\n])\n","\napp\n.directive('currencyModel', ->\n  restrict: 'A'\n  require: 'ngModel'\n  link : (scope, el, attrs, ctrl) ->\n    last = undefined\n    ctrl.$parsers.push((input) -> \n      if !el.val().match(/^[0-9]*[.]{0,1}[0-9]{0,2}$/g)\n        ctrl.$setViewValue(last)\n        ctrl.$render()\n      else\n        last = el.val()\n    )\n)\n.directive('intModel', ->\n  restrict: 'A'\n  require: 'ngModel'\n  link: (scope, el, attrs, ctrl) ->\n    last = undefined\n    ctrl.$parsers.push((input) ->\n      if !el.val().match(/^[0-9]*$/g)\n        ctrl.$setViewValue(last)\n        ctrl.$render()\n      else\n        last = el.val()\n    )\n)\n","\nhomeCtrl = ($scope) ->\n    $scope.greet = 'hello from Angular!'\n\n\napp.controller('homeCtrl', ['$scope', homeCtrl])\n","\nproductCtrl = ($scope, $routeParams, $http) ->\n\n  $scope.page = $routeParams.page ? 1\n  $scope.manufacturers = []\n  $scope.categories = []\n\n  $scope.foo = ['a', 'b', 'c']\n  watchParams = ['minprice', 'maxprice', 'manufacturer', 'category', 'order']\n  paramNames = watchParams.concat('page')\n\n  search = ->\n    params = {}\n    for name in paramNames\n      if $scope[name]? && $scope[name] != ''\n        params[name] = $scope[name]\n    $http(method: 'GET', url: '/product', params: params)\n      .success((data) ->\n        $scope.items = data\n      )\n\n  for name in watchParams\n    $scope.$watch(name, (n, o)->\n      if n != o\n        $scope.page = 1\n        search()\n    )\n    $scope.$watch('page', search)\n\n  $scope.purchase = (item, amount) ->\n    console.log(item, amount)\n\n\n\n\n\n  $http\n    .get('/product/manufacturer')\n    .success((data) ->\n      $scope.manufacturers = [undefined].concat(data)\n    )\n\n  $http\n    .get('/product/category')\n    .success((data) ->\n      $scope.categories = [undefined].concat(data)\n    )\n\n  $scope.changePage = (i) ->\n    if $scope.page + i > 0 then $scope.page += i\n\n\n\napp.controller('productCtrl', ['$scope', '$routeParams', '$http', productCtrl])\n"]}